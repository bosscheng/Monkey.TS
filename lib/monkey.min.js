var MF_EVENT;!function(t){var e=function(){function t(t,e){void 0===e&&(e=null),this.type=t,this.data=e}return t}();t.Event=e}(MF_EVENT||(MF_EVENT={}));var MF_EVENT;!function(t){var e=function(){function t(){this.eventLip={}}return t.prototype.onEvent=function(t,e){this.addEventListener(t,e)},t.prototype.moveEvent=function(t,e){this.removeEventListener(t,e)},t.prototype.addEventListener=function(t,e){this.eventLip[t]||(this.eventLip[t]=new Array),this.contains(t,e)||this.eventLip[t].push(e)},t.prototype.dispatchEvent=function(t){var e=this.eventLip[t.type];if(e)for(var i=0;i<e.length;i++){var s=e[i];t.target=this,s(t)}},t.prototype.contains=function(t,e){for(var i=0;i<this.eventLip[t].length;i++)if(this.eventLip[t][i]==e)return!0;return!1},t.prototype.removeEventListener=function(t,e){var i=this.eventLip[t];if(i)for(var s=0;s<i.length;s++)i[s]==e&&i.splice(s)},t}();t.EventDispatcher=e}(MF_EVENT||(MF_EVENT={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},MF_Loading=function(t){function e(e){t.call(this),this._s=this,this.list=[],this.suclist=[],this.set=null,this.timers=30,this.length=null,this.errorCount=3,this.isLoad=function(t){for(var e=0;e<this.list.length;e++)if(t&&this.list[e].e==t)return this.list[e];return!1},this.parameter=e,this.srcNames=this.parameter.srcNames?this.parameter.srcNames:"alts",this.loadUp="function"==typeof this.parameter.LDup?this.parameter.LDup:null,this.callback="function"==typeof this.parameter.LDsuccess?this.parameter.LDsuccess:null,this.parameter.LDpage&&this.getDomList(document),this.parameter.LDdom&&this.addLoadObject(e.LDdom),this.upDate(0)}return __extends(e,t),e.prototype.setDomList=function(t,e){for(var i=[],s=0;s<t.length;s++){var n=t[s].getAttribute(this.srcNames);n&&i.push(this.addLDstack({type:e,src:n,e:t[s]}))}return i},e.prototype.setAddList=function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.addLDstack(t[i]));return e},e.prototype.getDomList=function(t){var e=t.getElementsByTagName("img"),i=t.getElementsByTagName("video"),s=t.getElementsByTagName("audio"),n=this.setDomList(e,"img"),a=this.setDomList(i,"video"),o=this.setDomList(s,"audio");return n.concat(a,o)},e.prototype.getJqList=function(t){var e=t.find("img"),i=t.find("video"),s=t.find("audio"),n=this.setDomList(e,"img"),a=this.setDomList(i,"video"),o=this.setDomList(s,"audio");return n.concat(a,o)},e.prototype.addLoadObject=function(t){if(MF_display_Judger.isDom(t)){if(!MF_display_Judger.isLdDom(t))return this.getDomList(t);var e=MF_display_Judger.getDomType(t);if("img"==e||"video"==e||"audio"==e)return this.setDomList([t],e)}else{if(MF_display_Judger.isJQ(t)){var e=MF_display_Judger.getDomType(t[0]);return"img"==e||"video"==e||"audio"==e?this.setDomList(t,e):this.getJqList(t)}if("object"==typeof t){if(t.src&&t.type)return[this.addLDstack(t)];if("function"==typeof t.sort)return this.setAddList(t)}}},e.prototype.init=function(){for(var t=this,e=0;e<t.list.length;e++)!function(){var i=this,s=t.list[e];s.status=0,s.count=0,"img"==s.type?(s.e||(s.e=new Image),s.e.onload=function(){s.status=1,t.removeLD(s)}):"audio"!=s.type&&"video"!=s.type||(s.e||("audio"==s.type?s.e=document.createElement("audio"):s.e=document.createElement("video")),MF_display_Judger.isAndroid&&"video"==s.type||s.e.addEventListener("canplaythrough",function(t){s.status=1,i.removeLD(s)})),s.load=function(){s.count++,s.e.src=s.src,"video"!=s.type&&"audio"!=s.type||s.e.load()},s.e.onerror=function(){s.count<this.errorCount?(s.status=2,s.load()):(s.status=3,t.removeLD(s))}}()},e.prototype.upDate=function(t){this.loadUp&&this.loadUp(t),this.loadingpercent=t,this.dispatchEvent(new MF_EVENT.Event("update",t))},e.prototype.start=function(){this.init(),this.length=this.getLength(),this.loads();var t=0,e=this,i=function(){var i=parseInt(e.suclist.length/e.length*100);100>=i&&(e.parameter.LDtween?t++:t=i,e.upDate(t),100==t&&(clearInterval(e.set),e.callback&&e.callback(),e.dispatchEvent(new MF_EVENT.Event("complete",t))))};this.set=setInterval(i,this.timers)},e.prototype.add=function(t){return t?this.addLoadObject(t):void 0},e.prototype.addLDstack=function(t){var e=this.isLoad(t.e);if(e)return e;var i=this.list.push(t);return this.list[i-1]},e.prototype.addImgSheet=function(t){for(var e=[],i=t.mask||"",s=t.start;s<=t.length;s+=t.step){var n=i+s;n=n.substr(n.length-i.length),e.push({type:"img",src:t.imgPrefix+n+"."+t.imgType})}return this.setAddList(e)},e.prototype.loads=function(){for(var t=0;t<this.list.length;t++)this.list[t].load(),MF_display_Judger.isAndroid&&"video"==this.list[t].type&&(this.list[t].status=1,this.removeLD(this.list[t]),t--)},e.prototype.getLength=function(){return this.list.length},e.prototype.removeLD=function(t){for(var e=0;e<this.list.length;){if(this.list[e]==t){this.suclist.push(t),this.list.splice(e,1);break}e++}},e}(MF_EVENT.EventDispatcher),MF_animateImages=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.ITV=null,this.startIndex=0,this.progress=0,this.up=null,this.rmsPrefix=/^-ms-/,this.rdashAlpha=/-([\da-z])/gi,this.cssPrefixes=["Webkit","O","Moz","ms"],this.parameter.imgList.length>0&&(this.width=this.parameter.width?this.parameter.width:this.parameter.imgList[0].width,this.height=this.parameter.height?this.parameter.height:this.parameter.imgList[0].height),MF_display_Judger.isDom(this.parameter.parents)?this.parents=this.parameter.parents:MF_display_Judger.isJQ(this.parameter.parents)&&(this.parents=this.parameter.parents[0]),this.anmtList=this.parameter.imgList,this.type=this.parameter.type?this.parameter.type:"canvas",this.step=this.parameter.step||1,this.times=this.parameter.times||100,this.loop=this.parameter.loop||!1}return __extends(e,t),e.prototype.drawImages=function(t){},e.prototype.clear=function(){},e.prototype.getPosition=function(t){},e.prototype.fcamelCase=function(t,e){return e.toUpperCase()},e.prototype.camelCase=function(t){return t.replace(this.rmsPrefix,"ms-").replace(this.rdashAlpha,this.fcamelCase)},e.prototype.vendorPropName=function(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),s=e,n=this.cssPrefixes.length;n--;)if(e=this.cssPrefixes[n]+i,e in t)return e;return s},e.prototype.setOp=function(t,e){t.runtimeStyle?"undefined"==typeof t.runtimeStyle.opacity?t.style.filter="alpha(opacity="+100*e+")":t.runtimeStyle.opacity=e:t.style.opacity=e},e.prototype.toProgress=function(t){this.progress=t,this.drawImages(t)},e.prototype.setStart=function(t){this.startIndex=t,this.toProgress(t)},e.prototype.setEnd=function(t){t>this.length?this.endIndex=this.length:this.endIndex=t},e.prototype.play=function(){var t=this;t.ITV=setInterval(function(){if(t.progress+=t.step,t.progress>=t.endIndex){if(!t.loop)return t.stop(),void t.dispatchEvent(new MF_EVENT.Event("complete",t.progress));t.progress=t.startIndex}t.toProgress(t.progress),t.dispatchEvent(new MF_EVENT.Event("update",t.progress)),t.dispatchEvent(new MF_EVENT.Event(t.progress,t.progress))},t.times)},e.prototype.stopActivity=function(){this.ITV&&(clearInterval(this.ITV),this.ITV=null)},e.prototype.pause=function(){this.stopActivity()},e.prototype.stop=function(){this.stopActivity(),this.progress=this.startIndex},e.prototype.creatElment=function(t){return document.createElement(t)},e.prototype.setCssObj=function(t,e){for(name in e)this.css(t,name,e[name])},e.prototype.css=function(t,e,i){if("undefined"==typeof e||!e)return!1;if("object"==typeof e)return this.setCssObj(t,e),!1;var s=this.camelCase(e),n=t.style,a=this.vendorPropName(n,s);return"opacity"==a?void this.setOp(t,i):"undefined"==typeof i?""!=t.style[a]?t.style[a]:window.getComputedStyle?window.getComputedStyle(t,null)[a]:t.currentStyle?t.currentStyle[a]:"auto":void(t.runtimeStyle?t.runtimeStyle[a]=i:t.style[a]=i)},e.prototype.remove=function(){for(;this.parents.hasChildNodes();)this.parents.removeChild(this.parents.firstChild)},e}(MF_EVENT.EventDispatcher),MF_display_Judger=function(){function t(){}return t.isAndroid=function(){return/(Android)/i.test(navigator.userAgent)},t.isDom=function(t){return"object"==typeof t&&t instanceof HTMLElement},t.isJQ=function(t){return"object"==typeof t&&t instanceof jQuery},t.isLdDom=function(t){if("object"==typeof t&&t instanceof HTMLElement){var e=t.nodeName.toLowerCase();if("img"==e||"video"==e||"audio"==e)return!0}return!1},t.isLdCompleteList=function(t){if("object"==typeof t&&"sort"in t){var e=t[0];if("src"in e&&"e"in e)return!0}return!1},t.getDomType=function(t){return t.nodeName.toLowerCase()},t.getImgList=function(t){var e=new Array;for(var i in t){var s=t[i];"src"in s&&"e"in s&&e.push(s.e)}return e},t}(),MF_animateSheet=function(t){function e(e){this.parameter=e,MF_display_Judger.isLdCompleteList(this.parameter.imgList)?this.parameter.imgList=MF_display_Judger.getImgList(this.parameter.imgList):this.parameter.imgList=[],t.call(this,this.parameter),this.length=this.parameter.imgList.length,"canvas"==this.type?(this.canvas=this.creatElment("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.parents.appendChild(this.canvas)):"img"==this.type,this.endIndex=this.length,this.toProgress(this.progress)}return __extends(e,t),e.prototype.drawImages=function(t){switch(this.type){case"img":this.clear(),this.parents.appendChild(this.anmtList[t]);break;case"canvas":var e=this.canvas.getContext("2d");this.clear();var i=this.anmtList[t];e.drawImage(i,0,0)}},e.prototype.clear=function(){switch(this.type){case"img":for(;this.parents.hasChildNodes();)this.parents.removeChild(this.parents.firstChild);break;case"canvas":var t=this.canvas.getContext("2d");t.clearRect(0,0,this.width,this.height)}},e}(MF_animateImages),MF_animateSprite=function(t){function e(e){this.parameter=e,MF_display_Judger.isDom(this.parameter.imgList)?this.parameter.imgList=[this.parameter.imgList]:MF_display_Judger.isLdCompleteList(this.parameter.imgList)?this.parameter.imgList=MF_display_Judger.getImgList(this.parameter.imgList):MF_display_Judger.isJQ(this.parameter.imgList)||(this.parameter.imgList=[]),t.call(this,e),this.length=this.parameter.row*this.parameter.column;var i=this.anmtList[0];if(this.getPosition=function(t){return{x:-(t%this.parameter.column*this.width),y:-(parseInt(t/this.parameter.column)*this.height)}},"canvas"==this.type){this.remove(),this.canvas=this.creatElment("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.parents.appendChild(this.canvas);var s=this.canvas.getContext("2d"),n=i.width,a=i.height;this.drawImages=function(t){this.clear();var e=this.getPosition(t);s.drawImage(i,e.x,e.y,n,a)},this.clear=function(){s.clearRect(0,0,this.width,this.height)}}else if("img"==this.type){var o=this.creatElment("div");this.css(o,{position:"absolute",top:0,left:0,width:this.width+"px",height:this.height+"px",overflow:"hidden"},null),this.parents.appendChild(o),o.appendChild(i),this.css(i,{position:"absolute",top:0,left:0},null),this.drawImages=function(t){var e=this.getPosition(t);this.css(i,{top:e.y+"px",left:e.x+"px"},null)},this.clear=function(){for(;this.parents.hasChildNodes();)this.parents.removeChild(this.parents.firstChild)}}this.endIndex=this.length,this.toProgress(this.progress)}return __extends(e,t),e}(MF_animateImages),MF_UTILS=function(){function t(){}return t.setCookie=function(t,e,i){void 0===i&&(i=6e4);var i=i||6e4,s=new Date;s.setTime(s.getTime()+i),document.cookie=t+"="+encodeURI(e)+";expires="+s.toUTCString()},t.getCookie=function(t){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(i))?decodeURI(e[2]):null},t.removeCookie=function(e){t.setCookie(e,"",-1e3)},t.getQuest=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?i[2]:null},t.isTel=function(t){return/^1[3|4|5|8] \d{9}$/.test(t)},t.discribeObject=function(t,e){void 0===e&&(e="");var i="";e||(e="");for(var s in t)if(i+=e+s+":",t[s]instanceof Array)i+="[",i+=t[s],i+="]\n";else if(t[s]instanceof Object){var n=e+"  ";i+="{\n",i+=this.discribeObject(t[s],n),i+=n+"}\n"}else i+=t[s]+"\n";return i},t.html_decode=function(t){var e="";return 0==t.length?"":(e=t.replace(/&gt;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&nbsp;/g," "),e=e.replace(/&#39;/g,"'"),e=e.replace(/&quot;/g,'"'),e=e.replace(/<br>/g,"\n"))},t.catact=function(t,e){for(var i in e)"Object"==typeof e[i]?arguments.callee(t[i],e[i]):t[i]=e[i];return t},t}(),MF_DoAjax=function(_super){function MF_DoAjax(){_super.apply(this,arguments),this.defaultsOpts={type:"POST",async:!0,url:"",dataStringify:!1,data:null,dataType:"json",successDecode:!1,success:function(){},error:function(){alert("网络不给力，再试下吧！")},complete:function(){}}}return __extends(MF_DoAjax,_super),MF_DoAjax.prototype.initDefaultsOpts=function(t){this.defaultsOpts=MF_UTILS.catact(this.defaultsOpts,t)},MF_DoAjax.prototype.DoAjax=function(t,e,i){var s=this;if(void 0===i&&(i=null),e=MF_UTILS.catact(this.defaultsOpts,e),e.data&&1==e.dataStringify&&(e.data=JSON.stringify(e.data)),"jsonp"==e.dataType){var n=document.createElement("script"),a=e.url,o=e.jsonp&&""!=e.jsonp?e.jsonp:"jsonpCallback",r=e.data||{};r=function(t){var e="";for(var i in t)e+=(e.length>0?"&":"")+i+"="+t[i];return e}(r),a+=-1===a.indexOf("?")?"?jsonp="+o+(r.length>0?"&"+r:""):"&jsonp="+o+(r.length>0?"&"+r:""),n.src=a,n.type="text/javascript",document.body.appendChild(n)}else this.ajax({type:e.type,async:e.async,url:e.url,data:e.data,dataType:e.dataType,success:function(e,i){s.handleSucc(e,i,t)},error:e.error,complete:e.complete})},MF_DoAjax.prototype.ajax=function(t){var e=t.data||"",i=t.async;e=function(t){var e="";for(var i in t)e+=(e.length>0?"&":"")+i+"="+t[i];return e}(e);var s=new XMLHttpRequest;s.open(t.type,t.url,i),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){var e=s;if(4==e.readyState){if(200==e.status){var i=e.responseText,n="";switch(t.dataType){case"text":n=i;break;case"json":n=JSON.parse(i);break;default:n=JSON.parse(i)}t.success(t,n)}else t.error(e);t.complete()}},s.send(e)},MF_DoAjax.prototype.handleSucc=function(opts,d,typename){var e=new MF_EVENT.Event("mf_dataloaded");opts.successDecode&&d.Data&&""!=d.Data&&(d.Data=eval("["+MF_UTILS.html_decode(d.Data)+"]")[0]),e.data={data:d,tname:typename},this.dispatchEvent(e)},MF_DoAjax}(MF_EVENT.EventDispatcher),MF_JsonpManager=function(){function t(){this.jsonpfuncstions={}}return t}(),MF_NET=function(){function t(){}return t.reg=function(e,i){t.appUrlConfig[e]=i,t.GET_IN()[e]=t.appUrlConfig[e]},t.GET_IN=function(){return t._instance||(t._instance=new t),t._instance},t.appUrlConfig={},t}(),MF_PackInterface=function(t){function e(e){t.call(this),this.ajaxer=new MF_DoAjax,this.EVENT_OBJ=e||MF_NET.GET_IN(),this.init()}return __extends(e,t),e.prototype.init=function(){var t=this;this.ajaxer.addEventListener("mf_dataloaded",function(e){t.handleLoaded(e)})},e.prototype.handleLoaded=function(t){this.runEvent(t.data.tname,t.data.data)},e.prototype.callInterface=function(t,e){this.EVENT_OBJ[t].url&&this.EVENT_OBJ[t].url.length>0?(this.EVENT_OBJ[t].data=e||{},this.ajaxer.DoAjax(t,this.EVENT_OBJ[t])):this.runEvent(t,e||{})},e.prototype.runEvent=function(t,e){this.dispatchEvent(new MF_EVENT.Event(t,e))},e.prototype.initDefaultsOpts=function(t){this.ajaxer.initDefaultsOpts(t)},e}(MF_EVENT.EventDispatcher),MF_DEVICECENTER=function(){function t(){}return t.check=function(){var e=navigator.userAgent.toLowerCase();e.match(/ipad/)?console.log("this is ipad"):e.match(/iphone/)?console.log("this is iphone"):e.match(/android/)?console.log("this is android"):e.match(/windows phone/)||e.match(/windows mobile/)?(t.TOUCH_START="mousedown",t.TOUCH_MOVE="mousemove",t.TOUCH_END="mouseup"):(t.TOUCH_START="mousedown",t.TOUCH_MOVE="mousemove",t.TOUCH_END="mouseup"),t.isChecked=!0},Object.defineProperty(t,"TOUCH_START",{get:function(){return t.isChecked||t.check(),t._TOUCH_START},set:function(e){t._TOUCH_START=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"TOUCH_MOVE",{get:function(){return t.isChecked||t.check(),t._TOUCH_MOVE},set:function(e){t._TOUCH_MOVE=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"TOUCH_END",{get:function(){return t.isChecked||t.check(),t._TOUCH_END},set:function(e){t._TOUCH_END=e},enumerable:!0,configurable:!0}),t._TOUCH_START="touchstart",t._TOUCH_MOVE="touchmove",t._TOUCH_END="touchend",t._DEVICE_TYPE="mobile",t.isChecked=!1,t}(),MF_FACETOUCH=function(t){function e(e){t.call(this),this.element=null,this.isTouch=!1,this.touchpoints=new Array,this.name="shin",this.initdis=0,this.initrotation=0,this.pointsnumber=0,this.lastdis=0,this.lastrotation=0,this.element=document.getElementById(e)||document.body,this.initEvent()}return __extends(e,t),e.prototype.initEvent=function(){this.element.addEventListener(MF_DEVICECENTER.TOUCH_START,this.handleTouchBegin),this.element.addEventListener(MF_DEVICECENTER.TOUCH_MOVE,this.handleTouchMove),this.element.addEventListener(MF_DEVICECENTER.TOUCH_END,this.handleTouchEnd),document.addEventListener(MF_DEVICECENTER.TOUCH_END,function(){this.element.removeEventListener(MF_DEVICECENTER.TOUCH_MOVE,this.handleTouchMove)})},e.prototype.handleTouchBegin=function(t){t.preventDefault(),this.isTouch=!0;var e="";for(var i in t)e+=i+"="+t[i]+"\n";if(t.targetTouches){var s=t.targetTouches.length;switch(this.pointsnumber++,s){case 1:this.lastp=this.touchpoints=[new MF_Point(t.targetTouches[0].pageX,t.targetTouches[0].pageY)];break;case 2:this.touchpoints=[new MF_Point(t.targetTouches[0].pageX,t.targetTouches[0].pageY),new MF_Point(t.targetTouches[1].pageX,t.targetTouches[1].pageY)],this.initdis=this.caculatepointsDistance(this.touchpoints[0],this.touchpoints[1]).offsetdistance,this.initrotation=this.caculatepointsDistance(this.touchpoints[0],this.touchpoints[1]).angle/Math.PI*180}this.element.addEventListener("touchmove",this.handleTouchMove)}else this.touchpoints=this.lastp=[new MF_Point(t.pageX,t.pageY)],this.element.addEventListener(MF_DEVICECENTER.TOUCH_MOVE,this.handleTouchMove)},e.prototype.handleTouchMove=function(t){if(this.isTouch){var e;if(t.targetTouches){var i=t.targetTouches.length;switch(i){case 1:e=[new MF_Point(t.targetTouches[0].pageX,t.targetTouches[0].pageY)],this.handleTouchesByOnePoint(e,this.touchpoints);break;case 2:e=[new MF_Point(t.targetTouches[0].pageX,t.targetTouches[0].pageY),new MF_Point(t.targetTouches[1].pageX,t.targetTouches[1].pageY)],this.handleTouchsByMultiPoints(e,this.touchpoints)}}else e=[new MF_Point(t.pageX,t.pageY)],this.handleTouchesByOnePoint(e,this.touchpoints)}this.touchpoints=e},e.prototype.caculatepointsDistance=function(t,e){var i,s=new MF_Point,n=e.x-t.x,a=e.y-t.y,o=Math.sqrt(n*n+a*a);return i=Math.atan2(a,n),s.offsetx=n,s.offsety=a,s.offsetdistance=o,s.angle=i,s},e.prototype.handleTouchEnd=function(t){this.isTouch=!1,this.pointsnumber=0,this.initdis=this.lastdis,this.initrotation=this.lastrotation,this.dispatchEvent(new MF_EVENT.Event("tapend",this.lastp)),this.element.removeEventListener(MF_DEVICECENTER.TOUCH_MOVE,this.handleTouchMove)},e.prototype.handleTouchesByOnePoint=function(t,e){var i=this.caculatepointsDistance(t[0],e[0]);this.lastp=i,this.dispatchEvent(new MF_EVENT.Event("tapmove",i))},e.prototype.handleTouchsByMultiPoints=function(t,e){var i=this.caculatepointsDistance(t[0],t[1]),s=this.caculatepointsDistance(e[0],e[1]),n=s.offsetdistance-i.offsetdistance,a=s.angle-i.angle,o=-n/this.initdis/2,r=new MF_Point;r.angle=-a/Math.PI*180,r.scale=o,this.dispatchEvent(new MF_EVENT.Event("taprotate",r))},e}(MF_EVENT.EventDispatcher),MF_Point=function(){function t(t,e,i,s,n,a,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0),this.x=t,this.y=e,this.angle=s,this.offsetdistance=o,this.offsetx=n,this.offsety=a}return t}(),MF_TagManager=function(){function t(){}return t.start=function(){window.onhashchange=function(e){t.handleHash()};var e=window.location.hash.replace(/#/,""),i=t.tags;if(e in i){var s=i[e].funname;s(i[e].a)}},t.handleHash=function(){var e=window.location.hash.replace(/#/,"");e in t.tags&&t.tags[e].funname(t.tags[e].a)},t.addTag=function(e,i){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];t.tags[e]={funname:i,a:s}},t.removeTag=function(e){var i=t.tags;e in i&&delete i[e]},t.configTag=function(e,i){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];t.addTag(e,i,s)},t.tags={},t}(),EventDispatcher=MF_EVENT.EventDispatcher,MF_VFILE=function(t){function e(){var e=this;return t.call(this),window.hasOwnProperty("File")&&window.hasOwnProperty("FileReader")&&window.hasOwnProperty("FileList")&&window.hasOwnProperty("Blob")?(console.log("Great success! All the File APIs are supported."),this.input=document.createElement("input"),this.input.type="file",this.input.onchange=function(t){e.fileSelect(t)},this.file=new FileReader,void(this.file.onload=function(t){e.dispatchEvent(new MF_EVENT.Event("fileloaded",t.target.result))})):(console.log("The File APIs are not fully supported in this browser."),void alert("你使用的浏览器不支持文件本地上传。请更新你的浏览器"))}return __extends(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.fileSelect=function(t){var e=(t.target||window.event.srcElement,this.input.files[0]);return e?(this.file.readAsDataURL(e),void console.log("载入VFILE资源")):(console.log("没有选择文件"),void this.dispatchEvent(new MF_EVENT.Event("error","null")))},e.prototype.loadFile=function(){if(document.all)this.input.click();else{var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),this.input.dispatchEvent(t)}},e}(MF_EVENT.EventDispatcher);